{% extends 'base.html' %}

{% load static %}

{% block content %}

<div class="write-container">
  <form action="{% url 'blog:write' %}" method='post' class='write-form'>
    {% csrf_token %}
    <input type='text' class='write-title'>
    <div id='editor' class='wysiwyg'></div>
    <textarea class='write-textarea' hidden></textarea>
    <button type='submit'> 저장 </button>
  </form>  
</div>

{# Toast UI editor #}
<script>
    const Editor = toastui.Editor;
    const editor = new Editor({
        el: document.querySelector("#editor"),
        height: "70vh",
        initialEditType: "WYSIWYG",
        previewStyle: "vertical",
    });

    const toMarkdown = (e) => {
      e.preventDefault()
      const md = editor.getMarkdown()
      const textarea = document.querySelector('.write-textarea')
      textarea.value = md
      return
    }
</script>

{% endblock %}

{# aside를 숨기기 위한 변수를 전달 #}
{% block aside %}
  {% with hide_aside=True %}
    {{ block.super }}
  {% endwith %}
{% endblock %}

{# footer를 숨기기 위한 변수를 전달 #}
{% block footer %}
  {% with hide_footer=True %}
    {{ block.super }}
  {% endwith %}
{% endblock %}